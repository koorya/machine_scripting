<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>;&#xD;
CASE pushin_crab_state OF&#xD;
	0 : &#xD;
		if start_pushin_crab_handle = True then&#xD;
			status_message := 'initialisation';&#xD;
&#xD;
			if (SQ33 or&#xD;
				SQ34 or&#xD;
				SQ35 or&#xD;
				SQ36 or&#xD;
				SQ37 or&#xD;
				SQ38 or&#xD;
				SQ39 or&#xD;
				SQ40)=false then;&#xD;
				&#xD;
				Y1:=true;&#xD;
				Y2:=true;&#xD;
				&#xD;
				//задвигаем лапы&#xD;
				Y16:=true;&#xD;
				Y17:=false;&#xD;
				&#xD;
				Y18:=false;//жесткий режим (не плавающий)&#xD;
				pushin_crab_state:=1;&#xD;
			else ;&#xD;
				status_message := 'Fail: it is impossible to push in, when any pin sensor is on';&#xD;
				pushin_crab_state:=98;&#xD;
			end_if;&#xD;
				start_pushin_crab_handle := false;&#xD;
		end_if;&#xD;
		&#xD;
	1 : &#xD;
			Y1:=False;&#xD;
			Y2:=False;&#xD;
			pushin_crab_state:=2;&#xD;
	2:;&#xD;
		status_message := 'Waiting for sensors SQ41-44 turn on. (Crab pushin in)';&#xD;
		if SQ41 and &#xD;
			SQ42 and &#xD;
			SQ43 and &#xD;
			SQ44 	 then ;  &#xD;
			&#xD;
			//Y1:=true;&#xD;
			//Y2:=true;&#xD;
			&#xD;
			//фиксируем лапы&#xD;
			Y16:=false;&#xD;
			Y17:=false;&#xD;
&#xD;
			pushin_crab_state:=3;&#xD;
		end_if;&#xD;
		&#xD;
	3:;&#xD;
		status_message := 'Cycle complete';&#xD;
		pushin_crab_state:=99;&#xD;
&#xD;
	&#xD;
	99 :; // Processing after normal end&#xD;
	  //up_frame_cycle_state:=INT#0;&#xD;
	98 :; // Processing after error end.&#xD;
		//&#xD;
END_CASE;</Text></StructuredTextModel>